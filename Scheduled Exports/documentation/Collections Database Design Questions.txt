# Collections Database Design Questions

## Overall design approach

- data type preferences? currently using int, boolean, varchar (no n specified), varchar(max), date, decimal(18,4)
- deleted records - setup a scheduled export from the Audit module to identify EMu records that have been deleted to then remove from the database?
- updating existing records across the database - drop and insert across the board, or just many-to-one/many-to-many (join) data points?



## Objects Table

- dateAccessioned, dateCreatedEarliest, etc. are sometimes a full date ("2022-06-20"), sometimes just a year ("2022"), possibly just a year and month value ("2022-06"). Currently represented in the JSON as a string of format YYYY-MM-DD. Do I need to reformat in the transformation for db ingest? How do we want to store in the db?
--- decision: break into Y/M/D columns. Will update the db design and transformation to store in JSON as separate integers



## Object Locations

- any way to get insight on the current collection database set-up for managing locations?
--- Daniel said he would look into pulling
- using movement type = 'Exhibition Location' to determine if on_view true/false



## Parties Table

- how to handle "unknown" creators? Should not be identified by the unique ID, because it arbitrarily links objects to a common creator when they're all just Unknown.
- possibly suggest that Registration use the After/Follower field with "Unknown" value, instead of a linked Party record?



## Sample Database Tables Script Notes
- BOOLEAN and BIT versions (SQL Server doesn't support BOOLEAN)
- Skipping the ID insertion for tables set to auto-increment
- Escaping ' with '' (SQL syntax, I believe this is the same for PostgreSQL)